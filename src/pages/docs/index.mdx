import { Box, Button, Text } from "@chakra-ui/core"
import { UniversalLink } from "../../components/atoms/UniversalLink.tsx"

# Getting started

Welcome <span role="img" aria-label="waving hand">ðŸ‘‹</span> We're stoked that you're an early adopter and trying out Meeshkan. This documentation is here to help guide you through our core concepts and understand what you can expect.

If you have any questions, you can always [contact us for support](/contact/).

**In this section:**

- [What does Meeshkan do?](#what-does-meeshkan-do)
- [Creating your Meeshkan account](#creating-your-meeshkan-account)
- [Authorizing Meeshkan on GitHub](#authorizing-meeshkan-on-github)
- [Configuring your projects](#configuring-your-projects)
- [How Meeshkan reports bugs](#how-meeshkan-reports-bugs)
- [Revoking access](#revoking-access)
- [Deleting your account](#deleting-your-account)

## What does Meeshkan do?

Meeshkan is an automated testing and mocking tool. We offer first-class support for GraphQL APIs, but Meeshkan is also built to handle REST APIs and third-party dependencies.

Once installed, Meeshkan runs weekly and submits issues to your repository when it finds bugs.

## Creating your Meeshkan account

Almost everything regarding your Meeshkan account (configuration settings, test reports, etc.) will be handled in the [Meeshkan webapp](https://app.meeshkan.com).

The following link will take you to the webapp's homepage:

<Button
  as={UniversalLink}
  variantColor="red"
  rounded="sm"
  fontWeight={900}
  mt={4}
  to="https://app.meeshkan.com"
>
  Create your free account
</Button>

From there, click on `Sign up` and you'll be guided through the authorization flow. We use [Auth0](https://auth0.com/) for authentication, so you'll be routed to one of their pages first before [continuing with GitHub](#authorizing-meeshkan-on-github).

It should look similar to this:

![Screenshot of the initial Auth0 page you hit when you click sign up. It says "Welcome, log in to Meeshkan to continue to Meeshkan webapp" followed by a button that says "Continue with GitHub".](https://user-images.githubusercontent.com/26869552/88674552-3e0a2b80-d0ea-11ea-9bb0-b6dc7e8adfe8.png)

## Authorizing Meeshkan on GitHub

To run the tests, Meeshkan must gain permission to access your repository code. To do this, we use a [Github App](https://developer.github.com/apps/differences-between-apps/). That's why you're asked to continue with GitHub in the authorization flow when you sign up for Meeshkan.

Here's what that'll look like if you substitute `Unmock` for your organization name:

![Screenshot of the Meeshkan authorization flow on GitHub. At the top, it says 'Install & Authorize on your organization Unmock'.](https://user-images.githubusercontent.com/26869552/81223394-36a11d80-8fe6-11ea-91db-d7c4224b7894.png)

After this, you'll land on the webapp homepage <span role="img" aria-label="party popper">ðŸŽ‰</span>

For more detailed information about the permissions we require, please read our [Required permissions](/docs/required-permissions/) page.

## Configuring your projects

Each project has configuration settings that will allow Meeshkan tests to run automatically. If you'd like tests to run on every commit, please enter your build settings!

![Configuration UI](https://media.graphcms.com/FdmqxNNqT5iWaT31FXEA)

You can find your project's configuration at `https://app.meeshkan.com/{yourTeam}/{yourProject}/configuration`.

### Build settings

Please add credentials for your local server, and not your live endpoints. Testing against production credentials can cause permanent data damage.
- **Root directory**: The path to your app in your repository. For instance, if your app lives in the home directory, then you would use `./` as your root directory. 
- **Build command**: The command(s) your app framework provides for compiling your code. `npm install && npm start` is an example build command for a repository that uses NPM and provides a "start" script.
- **OpenAPI location**: The path or endpoint to your repository's *OpenAPI specification* (such as `http://localhost:8000/api/openapi`).
- **GraphQL endpoint**: The path or endpoint to your repository's *GraphQL schema* (such as `http://localhost:8000/api/graphql`).

#### Docker

In several cases, you might want to 'dockerize' your project and provide your `docker-compose up` command (or equivalent) as the Meeshkan *build command*. Here is a list of a few resources that may be useful in the 'dockerization' process:
- [Docker's *Get Started* Guide](https://docs.docker.com/get-started/)
- [Node.js's *Dockerizing a Node.js web app* Guide](https://nodejs.org/en/docs/guides/nodejs-docker-webapp/)

### Slack integration

Our slack app allows you to recieve notifications in the channel of your choosing. Currently notifications are global for any bugs found. In the future we will expose granular controls to allow you to only recieve notifications for high priority bugs.

## How Meeshkan reports bugs

Meeshkan runs [property-based tests](/docs/faq/#what-is-property-based-testing) on your repository and reports any bugs discovered in the process.

If no bugs were found, you won't hear anything.

When Meeshkan finds a bug, your Meeshkan testing branch check will link to the test in question. This issue will outline which command found the bug, the response, and, in some cases, a [suggestion for how to resolve it](/docs/how-meeshkan-works/#suggested-fixes).

![Test failure page](https://media.graphcms.com/1cB1gX9SvSestn25tohj)

Here's an example issue filed by the Meeshkan GitHub bot (anonymized for privacy):

![Screenshot of an example issue filed by the Meeshkan bot.](https://user-images.githubusercontent.com/26869552/81219610-4e75a300-8fe0-11ea-9760-a41cb1a1812c.png)

## Revoking access

You can revoke Meeshkan's access to your repository any time in your [GitHub Applications settings](https://github.com/settings/applications).

![Screenshot from the GitHub Applications Settings page. Meeshkan is at the top and the cursor is hovered over the Revoke action.](https://user-images.githubusercontent.com/26869552/81219329-f474dd80-8fdf-11ea-90a0-b0e65c59733e.png)

Although we'd definitely prefer if you [contacted us first](/contact/). We might be able to help!

## Deleting your account

If you'd like to delete your Meeshkan account, please [contact our team](/contact/).

<Box mt={10}>
  <Text as="i">Last updated: 28th Jul 2020</Text>
</Box>
